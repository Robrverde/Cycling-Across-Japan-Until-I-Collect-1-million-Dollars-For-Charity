[gd_scene load_steps=12 format=3 uid="uid://cwfkvtjqkt2ua"]

[ext_resource type="Script" path="res://Player/player.gd" id="1_w17lm"]
[ext_resource type="Texture2D" uid="uid://b31rpvvn70573" path="res://Sprites/Player/monkey_sprite_idle/monkey_sprite_frame_DOS.png" id="2_70xuk"]
[ext_resource type="Script" path="res://BG.gd" id="4_478lo"]
[ext_resource type="PackedScene" uid="uid://bwev667u1cx0y" path="res://BG.tscn" id="4_qlun8"]
[ext_resource type="Texture2D" uid="uid://c6th8tvms5tmu" path="res://Sprites/Power Ups/pete_icon.png" id="5_gjdgw"]
[ext_resource type="Texture2D" uid="uid://b6j01bpjquwhu" path="res://Sprites/Background/bg1m.png" id="5_sj2jj"]
[ext_resource type="Texture2D" uid="uid://bu1nr0d2achic" path="res://Sprites/Obstacles/orange_icon.png" id="7_nnf0o"]
[ext_resource type="Texture2D" uid="uid://5ambmm87s4uc" path="res://Sprites/Obstacles/poste_def_sprite.png" id="8_cx661"]

[sub_resource type="GDScript" id="GDScript_vemv7"]
script/source = "extends Node

const monkeyStartPos = Vector2i(800,292)
const camStartPos = Vector2i(800,200)

var speedMonkey : float

func _ready():
	new_game()

func new_game():
	#$monkey.position =  monkeyStartPos
	$monkey.velocity = Vector2i(0,0)
	
	#Default initial speed
	speedMonkey = 200.0
	#$Camera2D.position = camStartPos
	#$Walls.position =  monkeyStartPos
	
	
	
func _process(delta):
	
	#Player is constantly slowing down.
	speedMonkey -= 0.2
	
	print(\"Speed\")
	print(speedMonkey)
	
	#if speedMonkey <= 0:
		#speedMonkey = 0
		#$BG.scroll_base_offset = Vector2(0,0)
	if speedMonkey <= 0:
		$monkey.position.x += 0
		$BG.scroll_base_offset = Vector2(0,0)
	else:
		$monkey.position.x += speedMonkey * delta
		
	print(\"pos X\")
	print($monkey.position.x)
	#$Camera2D.position.x += speed
	#$Walls.position.x +=speed
	
	
"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_7ebrd"]
radius = 5.4
height = 13.2

[sub_resource type="SpriteFrames" id="SpriteFrames_sy648"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_70xuk")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}]

[node name="gameScene" type="Node2D"]
script = SubResource("GDScript_vemv7")

[node name="monkey" type="CharacterBody2D" parent="."]
position = Vector2(296, 458)
script = ExtResource("1_w17lm")

[node name="CollisionShape2D" type="CollisionShape2D" parent="monkey"]
scale = Vector2(5, 5)
shape = SubResource("CapsuleShape2D_7ebrd")

[node name="Area2D" type="Area2D" parent="monkey"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="monkey/Area2D"]
scale = Vector2(5, 5)
shape = SubResource("CapsuleShape2D_7ebrd")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="monkey"]
position = Vector2(11, 4)
scale = Vector2(0.14, 0.08)
sprite_frames = SubResource("SpriteFrames_sy648")
animation = &"Idle"

[node name="Camera2D" type="Camera2D" parent="monkey"]
limit_top = 0
limit_bottom = 0

[node name="BG" type="ParallaxBackground" parent="."]
script = ExtResource("4_478lo")

[node name="Sky" type="ParallaxLayer" parent="BG"]
position = Vector2(-281, 0)
motion_mirroring = Vector2(1150, 0)

[node name="Bg1m" type="Sprite2D" parent="BG/Sky"]
position = Vector2(577, 326)
scale = Vector2(0.9, 0.898611)
texture = ExtResource("5_sj2jj")

[node name="BG2" parent="." instance=ExtResource("4_qlun8")]

[node name="petePower" type="Area2D" parent="." groups=["petePower"]]
position = Vector2(609, 511)

[node name="Sprite2D" type="Sprite2D" parent="petePower"]
position = Vector2(341, -7.99998)
scale = Vector2(0.0859374, 0.0776366)
texture = ExtResource("5_gjdgw")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="petePower"]
position = Vector2(341, -7.99998)
scale = Vector2(0.0859374, 0.0776366)
polygon = PackedVector2Array(-94, -350.8, -94, -349.4, -71, -340.4, -71, -339, -41, -317, -41, -315.8, -5.60001, -279.4, 31.1, -318, 33.3, -318, 61.3, -341, 63.5, -341, 75.5, -348, 78.7, -348, 94.7, -353, 108.2, -353, 124, -349.6, 124, -348.3, 148, -338.3, 148, -337.1, 166, -326.1, 166, -325, 305, -213, 305, -211.8, 307.4, -209.5, 306.3, -207, 300, -166.7, 300, -125, 300.7, -125, 307.8, -74, 308.4, -74, 324.4, -31, 325.1, -31, 376, 47.4, 376, 49.5, 389, 72.5, 389, 75.7, 399, 106.7, 399, 115, 400, 146, 398.9, 146, 397.9, 159, 396.5, 159, 389.5, 184, 388.1, 184, 372.1, 211, 370.9, 211, 334.8, 244, 332.6, 244, 305.6, 261, 303.3, 261, 289, 267.3, 289, 268.7, 273, 290, 271.8, 290, 240.8, 320, 238.5, 320, 218.6, 332, 215.4, 332, 187.2, 338, 184.8, 338, 155, 332.7, 155, 331.4, 138, 324.9, 138, 337, 133, 337, 90.2, 359.2, 93, 367.7, 93, 371.8, 89.8, 375, 86.7, 375, 81.9, 363.4, 42.3, 377, 38.4, 377, 9.20001, 383, -26.2, 383, -49, 378.7, -49, 377.5, -71, 370.5, -71, 369.1, -98, 354.2, -98, 352.9, -118, 335.9, -118, 333.7, -132.8, 314.3, -152.4, 327, -155.6, 327, -178.6, 336, -183.7, 336, -200, 338.3, -200, 336.8, -222, 334.8, -222, 333.4, -245, 324.4, -245, 323.1, -262, 312.1, -262, 310.8, -285, 288.9, -285, 286.7, -299, 268, -301.5, 268, -336, 250.2, -336, 249.1, -364, 230.1, -364, 228.8, -384, 209.9, -384, 207.7, -401, 182.6, -401, 179.3, -410, 151.3, -410, 144, -411, 113, -409.8, 113, -407.8, 95, -406.5, 95, -399.5, 71, -398.3, 71, -386.3, 46, -385.1, 46, -336, -29.7, -336, -31.4, -319, -72.3, -319, -76.2, -311, -123.3, -311, -167, -318.4, -212, -315.7, -212, -168.7, -332, -166.5, -332, -141.6, -347, -138.1, -347, -121, -351.5, -121, -353.2)

[node name="debuffOrange" type="Area2D" parent="." groups=["debuffOrange"]]
position = Vector2(1309, 118)

[node name="Sprite2D" type="Sprite2D" parent="debuffOrange"]
position = Vector2(-78, 387)
scale = Vector2(0.084961, 0.078125)
texture = ExtResource("7_nnf0o")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="debuffOrange"]
position = Vector2(-78, 387)
scale = Vector2(0.084961, 0.078125)
polygon = PackedVector2Array(47, -395.6, 49.3, -392.1, 48.2, -390, 42.4, -358, 89.2, -358, 169, -344.7, 169, -343.4, 229, -322.4, 229, -321.3, 258, -307.3, 258, -306.1, 292, -285.1, 292, -284, 324, -259, 324, -257.8, 351, -231.9, 351, -229.8, 371, -207.8, 371, -205.7, 389, -181.7, 389, -179.5, 413, -136.5, 413, -133.4, 423, -111.4, 423, -108.3, 435, -69.3, 435, -64.4, 440, -40.2, 440, -31, 442, 32, 440.8, 32, 434.8, 81, 433.5, 81, 419.5, 131, 418.3, 131, 397.3, 178, 396.1, 178, 362.1, 229, 360.9, 229, 322.9, 270, 320.9, 270, 302.8, 287, 300.7, 287, 271.7, 309, 269.5, 309, 227.5, 333, 224.4, 333, 174.4, 353, 170.2, 353, 142.3, 361, 136.3, 361, 89.1, 368, 36.8, 368, -43, 354.7, -43, 353.4, -94, 336.4, -94, 335.2, -147, 308.2, -147, 307, -190, 276, -190, 274.9, -225, 241.9, -225, 239.7, -248, 213.8, -248, 211.5, -272, 176.6, -272, 174.5, -297, 121.4, -297, 118, -311, 69.3, -311, 63, -316, 30.2, -316, -20.1, -314.8, -33, -313.8, -33, -308.8, -71, -307.5, -71, -289.5, -131, -288.2, -131, -262.2, -183, -261, -183, -224, -233, -222.8, -233, -196.9, -260, -194.7, -260, -164.7, -286, -162.5, -286, -130.6, -308, -128.5, -308, -104, -321.2, -125.8, -344, -127.7, -344, -134.7, -350, -137.3, -350, -145, -352.6, -145, -361, -137.8, -361, -108.7, -356, -66.3, -356, -42, -359.7, -42, -360.5, -9, -370.5, -9, -371.2, 39, -396.2, 39, -398, 47, -398)

[node name="stopSign" type="Area2D" parent="." groups=["stopSign"]]
position = Vector2(1805, 5)

[node name="Sprite2D" type="Sprite2D" parent="stopSign" groups=["stopSign"]]
position = Vector2(-250, 468)
scale = Vector2(0.0543347, 0.0545182)
texture = ExtResource("8_cx661")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="stopSign"]
position = Vector2(-250, 468)
scale = Vector2(0.0543347, 0.0545182)
polygon = PackedVector2Array(231, -1438, 231, -1436.3, 250, -1427.3, 250, -1425.8, 263, -1412.8, 263, -1410.5, 271, -1394.5, 271, -1389, 272.2, -1376, 270.1, -1376, -75, -837.4, -75, -806, -57, 172, -57, 242, -45, 1211, -44, 1211, -44, 1225.2, -39.8, 1221, -36.8, 1221, -32.8, 1229, -36.2, 1229, -56.1, 1250, -58.5, 1250, -72.5, 1257, -77.9, 1257, -94, 1258.1, -94, 1256.8, -105, 1255.8, -105, 1254.4, -120, 1248.4, -120, 1247, -144, 1229.5, -146.9, 1235.3, -150, 1234.6, -150, 1232.4, -151.7, 1224, -161, 1214.8, -161, 1211.8, -153.1, 1207.9, -180, -318, -180, -383, -185, -811, -186, -811, -186, -817, -191.2, -827, -192.1, -827, -369, -1102.4, -369, -1104.5, -389.1, -1138, -390.1, -1138, -545, -1377.4, -545, -1389.3, -537.4, -1411, -535.9, -1411, -521.9, -1428, -519.5, -1428, -502.5, -1438, -486, -1438, -486, -1439)

[connection signal="area_entered" from="monkey/Area2D" to="monkey" method="_on_area_2d_area_entered"]
